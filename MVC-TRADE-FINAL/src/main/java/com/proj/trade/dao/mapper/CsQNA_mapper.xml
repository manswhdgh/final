<?xml version="1.0" encoding="UTF-8"?>
<!--board_mapper.xml: 게시판관련 쿼리문 -->

<!DOCTYPE mapper PUBLIC "-http://mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.proj.trade.dao.CsQNADao">


<insert id="boardInsert" parameterType="Qna"
		useGeneratedKeys="true" keyProperty="q_Register">
		<selectKey keyProperty="q_Register" resultType="int" order="BEFORE">
			SELECT QNA_SEQ.NEXTVAL FROM DUAL
		</selectKey>
		
		
		INSERT INTO QNA  (Q_Register,Q_TITLE,Q_CONTENT,Q_DATE,Q_STATUS,Q_MID)
		VALUES(${q_Register},#{q_Title},#{q_Content},default,0,#{q_mid})
		

</insert>

<insert id="fileInsert">
		INSERT INTO QNAFILE(QF_FNAME,QF_FPATH,QF_REGISTER) VALUES(#{oriFileName},#{sysFileName},#{q_Register})
	</insert>
	
<!-- <select id="QnaList" resultType="qna">
	
			SELECT * FROM QNA order by Q_DATE DESC
	
	</select> -->
<select id="QnaList" parameterType="int" resultType="qna">
<![CDATA[ 
		SELECT * FROM QNA_1  WHERE Q_RONUM >= #{qpNum}*5-4 AND 
		Q_RONUM<=#{qpNum}*5  
		 ]]>
</select>
<select id="getBoardCount" resultType="int">
		SELECT COUNT(*) FROM QNA_1 
</select>
 

</mapper>